# Next.js Template

A modern, production-ready Next.js template with authentication, real-time database, and UI components pre-configured.

## Tech Stack

| Technology | Purpose |
|------------|---------|
| [Next.js 16](https://nextjs.org/) | React framework (App Router, Turbopack) |
| [ConvexDB](https://convex.dev/) | Real-time backend database |
| [Clerk](https://clerk.com/) | Authentication & user management |
| [Shadcn UI](https://ui.shadcn.com/) | Component library |
| [Hugeicons](https://hugeicons.com/) | Icon library |
| [Tailwind CSS](https://tailwindcss.com/) | Styling |
| [TypeScript](https://www.typescriptlang.org/) | Type safety |

## Prerequisites

- Node.js 18.17 or later
- npm, pnpm, or yarn
- [Convex account](https://dashboard.convex.dev) (free)
- [Clerk account](https://dashboard.clerk.com) (free)

## Getting Started

### 1. Clone the repository

```bash
git clone https://github.com/yourusername/nextjs-template.git
cd nextjs-template
```

### 2. Install dependencies

```bash
npm install
```

### 3. Set up environment variables

```bash
cp .env.example .env.local
```

Fill in your credentials (see [Environment Variables](#environment-variables)).

### 4. Set up Convex

```bash
npx convex dev
```

This will:
- Prompt you to log in with GitHub
- Create a new Convex project
- Sync your schema to the cloud

### 5. Start the development server

In a new terminal:

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) to see your app.

## Environment Variables

Create a `.env.local` file with the following variables:

| Variable | Description | Where to get it |
|----------|-------------|-----------------|
| `CONVEX_DEPLOYMENT` | Convex deployment name | Auto-generated by `npx convex dev` |
| `NEXT_PUBLIC_CONVEX_URL` | Convex deployment URL | Auto-generated by `npx convex dev` |
| `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` | Clerk public key | [Clerk Dashboard](https://dashboard.clerk.com) → API Keys |
| `CLERK_SECRET_KEY` | Clerk secret key | [Clerk Dashboard](https://dashboard.clerk.com) → API Keys |

## Project Structure

```
├── convex/                    # Convex backend
│   ├── _generated/            # Auto-generated types
│   └── schema.ts              # Database schema
├── src/
│   ├── app/                   # Next.js App Router
│   │   ├── (auth)/            # Auth pages (sign-in, sign-up)
│   │   ├── layout.tsx         # Root layout with providers
│   │   ├── page.tsx           # Home page
│   │   └── globals.css        # Global styles
│   ├── components/
│   │   ├── ui/                # Shadcn UI components
│   │   └── hugeicons.tsx      # Hugeicons wrapper
│   ├── lib/
│   │   └── utils.ts           # Utility functions
│   ├── providers/
│   │   ├── convex-client-provider.tsx  # Convex + Clerk provider
│   │   └── theme-provider.tsx          # Theme provider
│   └── proxy.ts               # Route protection (Next.js 16)
├── .env.example               # Environment template
├── .env.local                 # Local secrets (gitignored)
├── components.json            # Shadcn UI config
└── package.json
```

## Available Commands

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development server |
| `npm run build` | Build for production |
| `npm run start` | Start production server |
| `npm run lint` | Run ESLint |
| `npx convex dev` | Start Convex dev server |
| `npx shadcn@latest add [component]` | Add a Shadcn component |

## Adding Components

### Shadcn UI

```bash
npx shadcn@latest add button
npx shadcn@latest add card
npx shadcn@latest add dialog
```

See all components at [ui.shadcn.com](https://ui.shadcn.com/docs/components).

### Hugeicons

```tsx
import { Icon } from "@/components/hugeicons";

// Usage
<Icon.Home01Icon className="size-5" />
<Icon.SearchIcon size={24} color="blue" />
```

Browse icons at [hugeicons.com](https://hugeicons.com/).

## Authentication

Authentication is handled by Clerk. Key files:

- `src/proxy.ts` - Route protection
- `src/app/(auth)/sign-in` - Sign in page
- `src/app/(auth)/sign-up` - Sign up page
- `src/providers/convex-client-provider.tsx` - Auth provider

### Protecting Routes

Routes are public by default. To protect a route, update `src/proxy.ts`:

```typescript
const isPublicRoute = createRouteMatcher([
  "/",
  "/sign-in(.*)",
  "/sign-up(.*)",
  // Add public routes here
]);
```

Any route not in this list requires authentication.

## Database

ConvexDB provides a real-time database. Key files:

- `convex/schema.ts` - Define your tables
- `convex/_generated/` - Auto-generated types

### Adding a Table

```typescript
// convex/schema.ts
import { defineSchema, defineTable } from "convex/server";
import { v } from "convex/values";

export default defineSchema({
  users: defineTable({
    clerkId: v.string(),
    email: v.string(),
    name: v.optional(v.string()),
  }).index("by_clerk_id", ["clerkId"]),

  // Add more tables here
  posts: defineTable({
    title: v.string(),
    content: v.string(),
    authorId: v.id("users"),
  }),
});
```

### Creating Queries & Mutations

```typescript
// convex/posts.ts
import { query, mutation } from "./_generated/server";
import { v } from "convex/values";

export const list = query({
  handler: async (ctx) => {
    return await ctx.db.query("posts").collect();
  },
});

export const create = mutation({
  args: { title: v.string(), content: v.string() },
  handler: async (ctx, args) => {
    return await ctx.db.insert("posts", {
      ...args,
      authorId: /* user id */,
    });
  },
});
```

## Deployment

### Vercel (Recommended)

1. Push your code to GitHub
2. Import the project in [Vercel](https://vercel.com/new)
3. Add environment variables
4. Deploy

### Convex Production

```bash
npx convex deploy
```

## Learn More

- [Next.js Documentation](https://nextjs.org/docs)
- [Convex Documentation](https://docs.convex.dev)
- [Clerk Documentation](https://clerk.com/docs)
- [Shadcn UI Documentation](https://ui.shadcn.com)
- [Hugeicons Documentation](https://hugeicons.com/docs)

## License

MIT
